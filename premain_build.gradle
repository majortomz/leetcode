apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'maven'
sourceCompatibility = 1.8
version = '1.0'

repositories {
    mavenCentral()
}

jar {
    manifest {
        attributes 'Premain-Class': 'basic.agent.PreMainAgent',
                   'Can-Redefine-Classes': 'true',
                   'Can-Retransform-Classes': 'true',
                   'Can-Set-Native-Method-Prefix': 'true'
    }
}

dependencies {
    compile group: 'cglib', name: 'cglib', version: '3.3.0'
    compile group: 'io.netty', name: 'netty-all', version: '4.1.48.Final'
    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.20'
    compile group: 'org.openjdk.jmh', name: 'jmh-core', version: '1.33'
    compile group: 'org.openjdk.jmh', name: 'jmh-generator-annprocess', version: '1.33'
}